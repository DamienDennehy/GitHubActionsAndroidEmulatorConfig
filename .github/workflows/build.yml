name: Build
on:
  # Manual Run.
  workflow_dispatch:  
  
  # On a push to a branch or tag.
  push:
    branches: [ master ]

  # On a PR to a branch or tag.
  pull_request:
    branches: [ master ]
    
  # On a release.
  release:
    types:
      - published

jobs:
  build:

    runs-on: windows-latest

    env:
        ANDROID_HOME_SYMBOLIC: C:\android-sdk

    steps:
    - name: Set Symlink Path
      run: New-Item -ItemType Junction -Path "${env:ANDROID_HOME_SYMBOLIC}" -Target "${env:ANDROID_HOME}"

    - name: Accel Check
      run: ${env:ANDROID_HOME_SYMBOLIC}\emulator\emulator.exe -accel-check